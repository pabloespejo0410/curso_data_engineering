version: 2

models:
  - name: stg_addresses 
    description: >
      Modelo de staging para la tabla de direcciones.
      Este modelo realiza la limpieza inicial, renombra columnas y prepara los datos para la capa final.
    
    columns:
      - name: address_key # La clave primaria renombrada en el SQL
        description: Clave primaria de la dirección, estandarizada.
        data_tests:
          - unique
          - not_null
          
      - name: ZIPCODE
        description: Código postal.
        data_tests:
          - not_null # Mantenemos el test de no nulo si es crucial

      - name: COUNTRY
        description: País de la dirección.
        
      - name: ADDRESS
        description: Línea de dirección principal.

      - name: STATE
        description: Estado o provincia.
        
      - name: is_deleted # La columna _FIVETRAN_DELETED renombrada
        description: Bandera booleana que indica si el registro está marcado para eliminación.
        
      - name: loaded_at # La columna _FIVETRAN_SYNCED renombrada
        description: Marca de tiempo en UTC de la carga del registro en el data warehouse.


